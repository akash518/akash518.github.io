<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>5a000483714c4d619df948139218e4b5</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<section id="predicting-lung-cancer-severity" class="cell markdown">
<h1><strong>Predicting Lung Cancer Severity</strong></h1>
<h2 id="spring-2024-data-science-project"><strong>Spring 2024 Data
Science Project</strong></h2>
<h4 id="akash-shah-and-shasank-patel"><strong>Akash Shah and Shasank
Patel</strong></h4>
</section>
<section id="contribution-checkpoint" class="cell markdown">
<h3>Contribution Checkpoint</h3>
<ul>
<li>Member 1: Akash Shah, Contribution: 100%</li>
<li>Member 2: Shasank Patel, Contrubution: 100%</li>
</ul>
<p>We, all team members, agree together that the above infromation is
true, and we are confident abnout our contributions to this submitted
project/final tutorial Akash Shah and Shasank Patel, 05/06/2024</p>
</section>
<section id="contribution-summary" class="cell markdown">
<h4>Contribution Summary</h4>
<ul>
<li>Akash Shah
<ul>
<li>I assisted my group in coming up with an idea and working on the
code for the project. My team and I met together and worked on
processing the data, creating statistical methods, and building machine
learning models. Overall, the both of us worked and reviewed the project
together.</li>
</ul></li>
<li>Shasank Patel
<ul>
<li>I assisted my group in coming up with an idea and working on the
code for the project. My team and I met together and worked on
processing the data, creating statistical methods, and building machine
learning models. Overall, the both of us worked and reviewed the project
together.</li>
</ul></li>
</ul>
</section>
<section id="introduction" class="cell markdown">
<h3><strong>Introduction</strong></h3>
<p>Ever since vaping and smoking worked its way down generations, there
are more children and young adults engaged in vaping. Students in middle
school and high school have started to vape which could lead to lung
cancer. Understanding the severity of lung cancer is important in the
current day and age as the number has more than doubled. There have been
several attempts to prevent kids from using tobaco and e-cigarette
products. However, since this is still an issue, it is necessary to
spread information regarding how different factors can lead to lung
cancer, and what symptoms could be seen from patients.</p>
<p>The purpose of this project is to help people learn what can lead to
different levels of lung cancer and make an assumption on the severity
of one's lung cancer. We wanted to see how lung cancer reacts to
different elements, and come up with a way to predict the severity
levels. It is assumed that smoking leads to lung issues, but we want to
dive even deeper and find out what else can cause lung cancer. The
primary question we want to answer is how severe is someone's cancer
depending on their health and habits.</p>
<p>These questions must be answered to decrease the number of children
getting lung cancer and using tabaco or e-cigarette products.</p>
</section>
<section id="data-curation" class="cell markdown">
<h3><strong>Data Curation</strong></h3>
<p>In the current stage of the project, we had to find a dataset to use
which included different levels of lung cancer. We went on Kaggle and
found a dataset thata included multiple features: <a
href="https://www.kaggle.com/datasets/thedevastator/cancer-patients-and-air-pollution-a-new-link/data">Lung
Cancer Prediction</a>. The next step is to download the csv file from
Kaggle and save it to a folder or repository.</p>
<p>For the development of the project, we will be using Python and
Jupyter Notebook. Python has multiple libraries which work well for data
science and machine learning. In order to start, we must import the
libraries we will be using in the tutorial.</p>
</section>
<div class="cell markdown">
<p><strong>Import Statements</strong></p>
</div>
<div class="cell code" data-execution_count="6">
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy <span class="im">import</span> stats</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split, StratifiedKFold, cross_val_score</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LogisticRegression</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> classification_report, accuracy_score, confusion_matrix</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn <span class="im">import</span> metrics </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> confusion_matrix</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> RandomForestClassifier</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.neighbors <span class="im">import</span> KNeighborsClassifier</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span></code></pre></div>
</div>
<div class="cell markdown">
<p>From the multiple libraries we imported, the most important library
is Pandas. Pandas allows us to manipulate the data from the csv file and
manage the data in a dataframe. A dataframe is a data structure similar
to a database or spreadsheet which is constructed with rows and
columns.</p>
</div>
<div class="cell code" data-execution_count="7">
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create dataframe from csv file</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">&#39;cancer patient data sets.csv&#39;</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<div class="output execute_result" data-execution_count="7">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>Patient Id</th>
      <th>Age</th>
      <th>Gender</th>
      <th>Air Pollution</th>
      <th>Alcohol use</th>
      <th>Dust Allergy</th>
      <th>OccuPational Hazards</th>
      <th>Genetic Risk</th>
      <th>chronic Lung Disease</th>
      <th>...</th>
      <th>Fatigue</th>
      <th>Weight Loss</th>
      <th>Shortness of Breath</th>
      <th>Wheezing</th>
      <th>Swallowing Difficulty</th>
      <th>Clubbing of Finger Nails</th>
      <th>Frequent Cold</th>
      <th>Dry Cough</th>
      <th>Snoring</th>
      <th>Level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>P1</td>
      <td>33</td>
      <td>1</td>
      <td>2</td>
      <td>4</td>
      <td>5</td>
      <td>4</td>
      <td>3</td>
      <td>2</td>
      <td>...</td>
      <td>3</td>
      <td>4</td>
      <td>2</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>Low</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>P10</td>
      <td>17</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>5</td>
      <td>3</td>
      <td>4</td>
      <td>2</td>
      <td>...</td>
      <td>1</td>
      <td>3</td>
      <td>7</td>
      <td>8</td>
      <td>6</td>
      <td>2</td>
      <td>1</td>
      <td>7</td>
      <td>2</td>
      <td>Medium</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>P100</td>
      <td>35</td>
      <td>1</td>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>5</td>
      <td>5</td>
      <td>4</td>
      <td>...</td>
      <td>8</td>
      <td>7</td>
      <td>9</td>
      <td>2</td>
      <td>1</td>
      <td>4</td>
      <td>6</td>
      <td>7</td>
      <td>2</td>
      <td>High</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>P1000</td>
      <td>37</td>
      <td>1</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>6</td>
      <td>7</td>
      <td>...</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
      <td>5</td>
      <td>High</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>P101</td>
      <td>46</td>
      <td>1</td>
      <td>6</td>
      <td>8</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>6</td>
      <td>...</td>
      <td>3</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>High</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>995</th>
      <td>995</td>
      <td>P995</td>
      <td>44</td>
      <td>1</td>
      <td>6</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>6</td>
      <td>...</td>
      <td>5</td>
      <td>3</td>
      <td>2</td>
      <td>7</td>
      <td>8</td>
      <td>2</td>
      <td>4</td>
      <td>5</td>
      <td>3</td>
      <td>High</td>
    </tr>
    <tr>
      <th>996</th>
      <td>996</td>
      <td>P996</td>
      <td>37</td>
      <td>2</td>
      <td>6</td>
      <td>8</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>6</td>
      <td>...</td>
      <td>9</td>
      <td>6</td>
      <td>5</td>
      <td>7</td>
      <td>2</td>
      <td>4</td>
      <td>3</td>
      <td>1</td>
      <td>4</td>
      <td>High</td>
    </tr>
    <tr>
      <th>997</th>
      <td>997</td>
      <td>P997</td>
      <td>25</td>
      <td>2</td>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>5</td>
      <td>5</td>
      <td>4</td>
      <td>...</td>
      <td>8</td>
      <td>7</td>
      <td>9</td>
      <td>2</td>
      <td>1</td>
      <td>4</td>
      <td>6</td>
      <td>7</td>
      <td>2</td>
      <td>High</td>
    </tr>
    <tr>
      <th>998</th>
      <td>998</td>
      <td>P998</td>
      <td>18</td>
      <td>2</td>
      <td>6</td>
      <td>8</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>6</td>
      <td>...</td>
      <td>3</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>High</td>
    </tr>
    <tr>
      <th>999</th>
      <td>999</td>
      <td>P999</td>
      <td>47</td>
      <td>1</td>
      <td>6</td>
      <td>5</td>
      <td>6</td>
      <td>5</td>
      <td>5</td>
      <td>4</td>
      <td>...</td>
      <td>8</td>
      <td>7</td>
      <td>9</td>
      <td>2</td>
      <td>1</td>
      <td>4</td>
      <td>6</td>
      <td>7</td>
      <td>2</td>
      <td>High</td>
    </tr>
  </tbody>
</table>
<p>1000 rows × 26 columns</p>
</div>
</div>
</div>
<div class="cell markdown">
<p>We have now added the csv file into a dataframe named df. df will now
allow us to manage and manipulate the data to process the data. We can
inspect the data type of each column and also see how many null values
there are. A null value is an empty cell that holds no data.</p>
</div>
<div class="cell code" data-execution_count="8">
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df.info()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 1000 entries, 0 to 999
Data columns (total 26 columns):
 #   Column                    Non-Null Count  Dtype 
---  ------                    --------------  ----- 
 0   index                     1000 non-null   int64 
 1   Patient Id                1000 non-null   object
 2   Age                       1000 non-null   int64 
 3   Gender                    1000 non-null   int64 
 4   Air Pollution             1000 non-null   int64 
 5   Alcohol use               1000 non-null   int64 
 6   Dust Allergy              1000 non-null   int64 
 7   OccuPational Hazards      1000 non-null   int64 
 8   Genetic Risk              1000 non-null   int64 
 9   chronic Lung Disease      1000 non-null   int64 
 10  Balanced Diet             1000 non-null   int64 
 11  Obesity                   1000 non-null   int64 
 12  Smoking                   1000 non-null   int64 
 13  Passive Smoker            1000 non-null   int64 
 14  Chest Pain                1000 non-null   int64 
 15  Coughing of Blood         1000 non-null   int64 
 16  Fatigue                   1000 non-null   int64 
 17  Weight Loss               1000 non-null   int64 
 18  Shortness of Breath       1000 non-null   int64 
 19  Wheezing                  1000 non-null   int64 
 20  Swallowing Difficulty     1000 non-null   int64 
 21  Clubbing of Finger Nails  1000 non-null   int64 
 22  Frequent Cold             1000 non-null   int64 
 23  Dry Cough                 1000 non-null   int64 
 24  Snoring                   1000 non-null   int64 
 25  Level                     1000 non-null   object
dtypes: int64(24), object(2)
memory usage: 203.2+ KB
</code></pre>
</div>
</div>
<section id="exploratory-data-analysis" class="cell markdown">
<h3><strong>Exploratory Data Analysis</strong></h3>
<p>For the next section, we can start managing the data to make it more
understandable and explore the data better. There will be three
sections: Data Preprocessing, Data Exploration, and Summary
Statistics.</p>
</section>
<section id="data-preprocessing" class="cell markdown">
<h4><strong>Data Preprocessing</strong></h4>
</section>
<div class="cell markdown">
<p>If we want organize the data based on the patient ids, we can use the
following script to reorder the dataframe based on the patient ids.</p>
</div>
<div class="cell code" data-execution_count="9">
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># change 1s and 2s to male and female</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;Gender&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;Gender&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="st">&#39;male&#39;</span> <span class="cf">if</span> x <span class="op">==</span> <span class="dv">1</span> <span class="cf">else</span> <span class="st">&#39;female&#39;</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># order the dataframe by patient ids</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;Patient Id&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;Patient Id&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="bu">int</span>(x[<span class="dv">1</span>:]))</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.sort_values(by<span class="op">=</span>[<span class="st">&#39;Patient Id&#39;</span>], ascending<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;Patient Id&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;Patient Id&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="ss">f&#39;P</span><span class="sc">{</span>x<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co"># fix index values</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>df.reset_index(drop<span class="op">=</span><span class="va">True</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;index&#39;</span>] <span class="op">=</span> df.index</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<div class="output execute_result" data-execution_count="9">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>Patient Id</th>
      <th>Age</th>
      <th>Gender</th>
      <th>Air Pollution</th>
      <th>Alcohol use</th>
      <th>Dust Allergy</th>
      <th>OccuPational Hazards</th>
      <th>Genetic Risk</th>
      <th>chronic Lung Disease</th>
      <th>...</th>
      <th>Fatigue</th>
      <th>Weight Loss</th>
      <th>Shortness of Breath</th>
      <th>Wheezing</th>
      <th>Swallowing Difficulty</th>
      <th>Clubbing of Finger Nails</th>
      <th>Frequent Cold</th>
      <th>Dry Cough</th>
      <th>Snoring</th>
      <th>Level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>P1</td>
      <td>33</td>
      <td>male</td>
      <td>2</td>
      <td>4</td>
      <td>5</td>
      <td>4</td>
      <td>3</td>
      <td>2</td>
      <td>...</td>
      <td>3</td>
      <td>4</td>
      <td>2</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>Low</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>P2</td>
      <td>25</td>
      <td>female</td>
      <td>3</td>
      <td>1</td>
      <td>4</td>
      <td>3</td>
      <td>2</td>
      <td>3</td>
      <td>...</td>
      <td>3</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>2</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>3</td>
      <td>Low</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>P3</td>
      <td>35</td>
      <td>male</td>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>5</td>
      <td>6</td>
      <td>5</td>
      <td>...</td>
      <td>1</td>
      <td>4</td>
      <td>3</td>
      <td>2</td>
      <td>4</td>
      <td>6</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>Medium</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>P4</td>
      <td>27</td>
      <td>male</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>2</td>
      <td>4</td>
      <td>3</td>
      <td>...</td>
      <td>1</td>
      <td>2</td>
      <td>4</td>
      <td>6</td>
      <td>5</td>
      <td>4</td>
      <td>2</td>
      <td>1</td>
      <td>5</td>
      <td>Medium</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>P5</td>
      <td>48</td>
      <td>male</td>
      <td>6</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>6</td>
      <td>...</td>
      <td>5</td>
      <td>3</td>
      <td>2</td>
      <td>7</td>
      <td>8</td>
      <td>2</td>
      <td>4</td>
      <td>5</td>
      <td>3</td>
      <td>High</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>995</th>
      <td>995</td>
      <td>P996</td>
      <td>37</td>
      <td>female</td>
      <td>6</td>
      <td>8</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>6</td>
      <td>...</td>
      <td>9</td>
      <td>6</td>
      <td>5</td>
      <td>7</td>
      <td>2</td>
      <td>4</td>
      <td>3</td>
      <td>1</td>
      <td>4</td>
      <td>High</td>
    </tr>
    <tr>
      <th>996</th>
      <td>996</td>
      <td>P997</td>
      <td>25</td>
      <td>female</td>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>5</td>
      <td>5</td>
      <td>4</td>
      <td>...</td>
      <td>8</td>
      <td>7</td>
      <td>9</td>
      <td>2</td>
      <td>1</td>
      <td>4</td>
      <td>6</td>
      <td>7</td>
      <td>2</td>
      <td>High</td>
    </tr>
    <tr>
      <th>997</th>
      <td>997</td>
      <td>P998</td>
      <td>18</td>
      <td>female</td>
      <td>6</td>
      <td>8</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>6</td>
      <td>...</td>
      <td>3</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>High</td>
    </tr>
    <tr>
      <th>998</th>
      <td>998</td>
      <td>P999</td>
      <td>47</td>
      <td>male</td>
      <td>6</td>
      <td>5</td>
      <td>6</td>
      <td>5</td>
      <td>5</td>
      <td>4</td>
      <td>...</td>
      <td>8</td>
      <td>7</td>
      <td>9</td>
      <td>2</td>
      <td>1</td>
      <td>4</td>
      <td>6</td>
      <td>7</td>
      <td>2</td>
      <td>High</td>
    </tr>
    <tr>
      <th>999</th>
      <td>999</td>
      <td>P1000</td>
      <td>37</td>
      <td>male</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>6</td>
      <td>7</td>
      <td>...</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
      <td>5</td>
      <td>High</td>
    </tr>
  </tbody>
</table>
<p>1000 rows × 26 columns</p>
</div>
</div>
</div>
<div class="cell markdown">
<p>In order to make all of the column names match cases, we can make all
of the column names lowercase and also rename certain coloumns to make
them more understandable.</p>
</div>
<div class="cell code" data-execution_count="10">
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># make column names lowercase</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>df.rename(columns<span class="op">=</span><span class="bu">str</span>.lower, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># replaces all spaces with _</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># df.rename(columns={c: c.replace(&#39; &#39;, &#39;_&#39;) for c in df.columns}, inplace=True)</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># rename level column </span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>df.rename(columns<span class="op">=</span>{<span class="st">&#39;level&#39;</span>: <span class="st">&#39;severity of cancer&#39;</span>}, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co"># rename second_hand_smoke column</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>df.rename(columns<span class="op">=</span>{<span class="st">&#39;passive smoker&#39;</span>: <span class="st">&#39;second hand smoking&#39;</span>}, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<div class="output execute_result" data-execution_count="10">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>patient id</th>
      <th>age</th>
      <th>gender</th>
      <th>air pollution</th>
      <th>alcohol use</th>
      <th>dust allergy</th>
      <th>occupational hazards</th>
      <th>genetic risk</th>
      <th>chronic lung disease</th>
      <th>...</th>
      <th>fatigue</th>
      <th>weight loss</th>
      <th>shortness of breath</th>
      <th>wheezing</th>
      <th>swallowing difficulty</th>
      <th>clubbing of finger nails</th>
      <th>frequent cold</th>
      <th>dry cough</th>
      <th>snoring</th>
      <th>severity of cancer</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>P1</td>
      <td>33</td>
      <td>male</td>
      <td>2</td>
      <td>4</td>
      <td>5</td>
      <td>4</td>
      <td>3</td>
      <td>2</td>
      <td>...</td>
      <td>3</td>
      <td>4</td>
      <td>2</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>Low</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>P2</td>
      <td>25</td>
      <td>female</td>
      <td>3</td>
      <td>1</td>
      <td>4</td>
      <td>3</td>
      <td>2</td>
      <td>3</td>
      <td>...</td>
      <td>3</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>2</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>3</td>
      <td>Low</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>P3</td>
      <td>35</td>
      <td>male</td>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>5</td>
      <td>6</td>
      <td>5</td>
      <td>...</td>
      <td>1</td>
      <td>4</td>
      <td>3</td>
      <td>2</td>
      <td>4</td>
      <td>6</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>Medium</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>P4</td>
      <td>27</td>
      <td>male</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>2</td>
      <td>4</td>
      <td>3</td>
      <td>...</td>
      <td>1</td>
      <td>2</td>
      <td>4</td>
      <td>6</td>
      <td>5</td>
      <td>4</td>
      <td>2</td>
      <td>1</td>
      <td>5</td>
      <td>Medium</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>P5</td>
      <td>48</td>
      <td>male</td>
      <td>6</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>6</td>
      <td>...</td>
      <td>5</td>
      <td>3</td>
      <td>2</td>
      <td>7</td>
      <td>8</td>
      <td>2</td>
      <td>4</td>
      <td>5</td>
      <td>3</td>
      <td>High</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>995</th>
      <td>995</td>
      <td>P996</td>
      <td>37</td>
      <td>female</td>
      <td>6</td>
      <td>8</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>6</td>
      <td>...</td>
      <td>9</td>
      <td>6</td>
      <td>5</td>
      <td>7</td>
      <td>2</td>
      <td>4</td>
      <td>3</td>
      <td>1</td>
      <td>4</td>
      <td>High</td>
    </tr>
    <tr>
      <th>996</th>
      <td>996</td>
      <td>P997</td>
      <td>25</td>
      <td>female</td>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>5</td>
      <td>5</td>
      <td>4</td>
      <td>...</td>
      <td>8</td>
      <td>7</td>
      <td>9</td>
      <td>2</td>
      <td>1</td>
      <td>4</td>
      <td>6</td>
      <td>7</td>
      <td>2</td>
      <td>High</td>
    </tr>
    <tr>
      <th>997</th>
      <td>997</td>
      <td>P998</td>
      <td>18</td>
      <td>female</td>
      <td>6</td>
      <td>8</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>6</td>
      <td>...</td>
      <td>3</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>High</td>
    </tr>
    <tr>
      <th>998</th>
      <td>998</td>
      <td>P999</td>
      <td>47</td>
      <td>male</td>
      <td>6</td>
      <td>5</td>
      <td>6</td>
      <td>5</td>
      <td>5</td>
      <td>4</td>
      <td>...</td>
      <td>8</td>
      <td>7</td>
      <td>9</td>
      <td>2</td>
      <td>1</td>
      <td>4</td>
      <td>6</td>
      <td>7</td>
      <td>2</td>
      <td>High</td>
    </tr>
    <tr>
      <th>999</th>
      <td>999</td>
      <td>P1000</td>
      <td>37</td>
      <td>male</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>7</td>
      <td>6</td>
      <td>7</td>
      <td>...</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
      <td>5</td>
      <td>High</td>
    </tr>
  </tbody>
</table>
<p>1000 rows × 26 columns</p>
</div>
</div>
</div>
<section id="data-exploration" class="cell markdown">
<h4><strong>Data Exploration</strong></h4>
<p>In this section, we will start conducting statiscal tests to learn
more about the correlation between the different features. The goal is
to find out how certain features impact the severity of lung cancer.</p>
</section>
<div class="cell markdown">
<p>Chi-Square Test for Smoking and Severity of Cancer</p>
<p>Ho: Smoking does not have an effect on the severity of cancer Ha:
Smoking does have an effect on the severity of cancer</p>
</div>
<div class="cell code" data-execution_count="11">
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>ct <span class="op">=</span> pd.crosstab(df[<span class="st">&#39;smoking&#39;</span>], df[<span class="st">&#39;severity of cancer&#39;</span>])</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>ct</span></code></pre></div>
<div class="output execute_result" data-execution_count="11">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>severity of cancer</th>
      <th>High</th>
      <th>Low</th>
      <th>Medium</th>
    </tr>
    <tr>
      <th>smoking</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>61</td>
      <td>120</td>
    </tr>
    <tr>
      <th>2</th>
      <td>70</td>
      <td>81</td>
      <td>71</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>71</td>
      <td>101</td>
    </tr>
    <tr>
      <th>4</th>
      <td>19</td>
      <td>40</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>0</td>
      <td>10</td>
    </tr>
    <tr>
      <th>6</th>
      <td>10</td>
      <td>30</td>
      <td>20</td>
    </tr>
    <tr>
      <th>7</th>
      <td>187</td>
      <td>20</td>
      <td>0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>79</td>
      <td>0</td>
      <td>10</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell code" data-execution_count="12">
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>ct.plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;Smoking Level&quot;</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Number of Patients&quot;</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Correlation of Smoking and Severity of Cancer&quot;</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>plt.legend(title<span class="op">=</span><span class="st">&quot;Severity of Cancer&quot;</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_e4bdb5e96b324233bc81b4516383ff3a/144c3868054e8cd1ca362278c887bd3ef8cb4ca4.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="13">
<div class="sourceCode" id="cb9"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>tstat, pval, dof, efreq <span class="op">=</span> stats.chi2_contingency(ct)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pval)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>5.246169667913276e-137
</code></pre>
</div>
</div>
<div class="cell markdown">
<p>With a p-value of 5.25e-137, we can reject the null hypothesis since
the p-value is less than alpha, 0.05. Since the p-value is very small,
we can say that there is a strong relationship between smoking and lung
cancer. However, conducting the test solely on the smokoing column does
not account for other factors.</p>
<p>To isolate smoking, we can use the patients who are in places with
good air pollution, low occupational hazards, and low genetic risk. We
can limit these variables since they do not affect smoking directly such
as the other factors. For example, smoking is a cause of chronic lung
disease which causes other symptoms in the dataframe. Accounting for
these three factors allows us to isolate smoking against cancer since
many of the other columns include the effects of smoking.</p>
</div>
<div class="cell code" data-execution_count="14">
<div class="sourceCode" id="cb11"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>ct1 <span class="op">=</span> pd.crosstab(df[(df[<span class="st">&#39;air pollution&#39;</span>].isin([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>])) <span class="op">&amp;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>                     (df[<span class="st">&#39;occupational hazards&#39;</span>].isin([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>])) <span class="op">&amp;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                     (df[<span class="st">&#39;genetic risk&#39;</span>].isin([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]))</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                     ][<span class="st">&#39;smoking&#39;</span>], df[<span class="st">&#39;severity of cancer&#39;</span>])</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>ct1</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co"># isolate smoking by by accounting for air pollution, alcohol use, occupational hazard, genetic risk, chronic lung disease, passive smoker?, and symptoms?</span></span></code></pre></div>
<div class="output execute_result" data-execution_count="14">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>severity of cancer</th>
      <th>Low</th>
      <th>Medium</th>
    </tr>
    <tr>
      <th>smoking</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>61</td>
      <td>50</td>
    </tr>
    <tr>
      <th>2</th>
      <td>81</td>
      <td>71</td>
    </tr>
    <tr>
      <th>3</th>
      <td>71</td>
      <td>71</td>
    </tr>
    <tr>
      <th>4</th>
      <td>20</td>
      <td>0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>20</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>20</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell code" data-execution_count="15">
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>ct1.plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;Smoking Level&quot;</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Number of Patients&quot;</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Correlation of Smoking and Severity of Cancer&quot;</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>plt.legend(title<span class="op">=</span><span class="st">&quot;Severity of Cancer&quot;</span>)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_e4bdb5e96b324233bc81b4516383ff3a/e0339c1e5e7dc8534f3257f5e3c3940a93e31f64.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="16">
<div class="sourceCode" id="cb13"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>tstat, pval, dof, efreq <span class="op">=</span> stats.chi2_contingency(ct1)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pval)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>2.0884732820904753e-09
</code></pre>
</div>
</div>
<div class="cell markdown">
<p>With a p-value of 0.00000000209, we can reject the null hypothesis
since the p-value is much smaller than the significance level of 0.05.
With the p-value being very small, we can state that smoking has a
strong relationship with lung cancer, as even though many of the
patients have low and medium severities of cancer, the patients in this
test are controlled by other factors.</p>
</div>
<div class="cell markdown">
<p>Heat Maps with Pearson's Correlation Coefficient for Causes and
Symptoms of Chronic Lung Disease</p>
<p>Based on scholarly articles, smoking, air_pollution, and genetic risk
are causes of chronic lung disease. Occupational hazards and passive
smoking fit in this category as well since the three factors mentioned
also affect occupations and passive smoking. Similarly, symptoms such as
chest pain, coughing, fatigue, shortness of breath, unintended weight
loss, and wheezing are known to be correlated with chronic long
disease.</p>
<p>With this, we can produce a correlation chart to identify whether or
not chronic lung disease has a strong relationship with the causes and
symptoms mentioned.</p>
</div>
<div class="cell code" data-execution_count="17">
<div class="sourceCode" id="cb15"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> df[[<span class="st">&#39;occupational hazards&#39;</span>, <span class="st">&#39;smoking&#39;</span>, <span class="st">&#39;second hand smoking&#39;</span>, <span class="st">&#39;air pollution&#39;</span>, <span class="st">&#39;genetic risk&#39;</span>, <span class="st">&#39;chronic lung disease&#39;</span>]].copy()</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>corr <span class="op">=</span> df2.corr()</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.heatmap(</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    corr, vmin<span class="op">=-</span><span class="dv">1</span>, vmax<span class="op">=</span><span class="dv">1</span>, center<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    cmap<span class="op">=</span>sns.diverging_palette(<span class="dv">20</span>, <span class="dv">220</span>, n<span class="op">=</span><span class="dv">200</span>),</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    annot<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    square<span class="op">=</span><span class="va">True</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">&#39;Correlation Heatmap&#39;</span>, fontdict<span class="op">=</span>{<span class="st">&#39;fontsize&#39;</span>:<span class="dv">18</span>}, pad<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>ax.set_xticklabels(</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    ax.get_xticklabels(),</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    rotation<span class="op">=</span><span class="dv">45</span>,</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>    horizontalalignment<span class="op">=</span><span class="st">&#39;right&#39;</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.figure(figsize=(8,8))</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a><span class="co"># sns.heatmap(df2.corr(),annot=True,fmt=&quot;.00&quot;)</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.yticks(rotation=0)</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.show()</span></span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_e4bdb5e96b324233bc81b4516383ff3a/85cce437944448b233fa7c88e5218a1b751ccb97.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="18">
<div class="sourceCode" id="cb16"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df3 <span class="op">=</span> df[[<span class="st">&#39;chest pain&#39;</span>, <span class="st">&#39;coughing of blood&#39;</span>, <span class="st">&#39;fatigue&#39;</span>, <span class="st">&#39;weight loss&#39;</span>, <span class="st">&#39;shortness of breath&#39;</span>, <span class="st">&#39;wheezing&#39;</span>, <span class="st">&#39;dry cough&#39;</span>, <span class="st">&#39;chronic lung disease&#39;</span>]].copy()</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>corr2 <span class="op">=</span> df3.corr()</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>ax2 <span class="op">=</span> sns.heatmap(</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    corr, vmin<span class="op">=-</span><span class="dv">1</span>, vmax<span class="op">=</span><span class="dv">1</span>, center<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    cmap<span class="op">=</span>sns.diverging_palette(<span class="dv">20</span>, <span class="dv">220</span>, n<span class="op">=</span><span class="dv">200</span>),</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    annot<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    square<span class="op">=</span><span class="va">True</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>ax2.set_title(<span class="st">&#39;Correlation Heatmap&#39;</span>, fontdict<span class="op">=</span>{<span class="st">&#39;fontsize&#39;</span>:<span class="dv">18</span>}, pad<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>ax2.set_xticklabels(</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    ax.get_xticklabels(),</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>    rotation<span class="op">=</span><span class="dv">45</span>,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    horizontalalignment<span class="op">=</span><span class="st">&#39;right&#39;</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.figure(figsize=(8,8))</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a><span class="co"># sns.heatmap(df3.corr(),annot=True,fmt=&quot;.00&quot;)</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.yticks(rotation=0)</span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.show()</span></span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_e4bdb5e96b324233bc81b4516383ff3a/85cce437944448b233fa7c88e5218a1b751ccb97.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>Based on the heat maps, we can see that there is a strong
relationship between occupational hazards, smoking, passive smoking, air
pollution, genetic risk, and chronic lung disease. Therefore, we can
conclude that all of the causes are in direct correlation to chronic
lung disease. According to the second heat map, we can see that chest
pain and coughing of blood have strong relationships with chronic lung
disease. Though the other symptoms do not show a strong relationship, it
does not necessarily mean that a patient with chronic lung disease will
not present these symptoms. We can use these findings to further look
into the correlation between lung cancer and chronic lung disease.</p>
</div>
<div class="cell markdown">
<p>ANOVA Test for Severity of Cancer and Chronic Lung Disease</p>
<p>H0: The severity of cancer does not have a correlation with chronic
lung disease.</p>
<p>HA: The severity of cancer does have a correlation with chronic lung
disease.</p>
<p>We can run an ANOVA test since there are three groups of severity of
cancer.</p>
</div>
<div class="cell code" data-execution_count="19">
<div class="sourceCode" id="cb17"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>ct3 <span class="op">=</span> pd.crosstab(df[<span class="st">&#39;chronic lung disease&#39;</span>], df[<span class="st">&#39;severity of cancer&#39;</span>])</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>ct3</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>high <span class="op">=</span> []</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>medium <span class="op">=</span> []</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>low <span class="op">=</span> []</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, j <span class="kw">in</span> df.iterrows():</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> j[<span class="st">&#39;severity of cancer&#39;</span>] <span class="op">==</span> <span class="st">&#39;High&#39;</span>:</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>    high.append(j[<span class="st">&#39;chronic lung disease&#39;</span>])</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> j[<span class="st">&#39;severity of cancer&#39;</span>] <span class="op">==</span> <span class="st">&#39;Medium&#39;</span>:</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>    medium.append(j[<span class="st">&#39;chronic lung disease&#39;</span>])</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>:</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>    low.append(j[<span class="st">&#39;chronic lung disease&#39;</span>])</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>stat, pval <span class="op">=</span> stats.f_oneway(high, medium, low)</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>pval</span></code></pre></div>
<div class="output execute_result" data-execution_count="19">
<pre><code>4.939473195845556e-107</code></pre>
</div>
</div>
<div class="cell markdown">
<p>We ran an anova test on the the high, medium, and low groups for the
correlation between severity of cancer and chronic lung disease. The
p-value is much lower than the standard alpha of 0.05. So we reject the
null hypothesis and this shows that there is a high correlation between
chronic lung disease and severity of cancer groups.</p>
</div>
<div class="cell code" data-execution_count="20">
<div class="sourceCode" id="cb19"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>ct.plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;Chronic Lung Disease Level&quot;</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Number of Patients&quot;</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Correlation of Chronic Lung Disease and Severity of Cancer&quot;</span>)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>plt.legend(title<span class="op">=</span><span class="st">&quot;Severity of Cancer&quot;</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_e4bdb5e96b324233bc81b4516383ff3a/a29a4844337b5bb2e2a9885e9ce97eb78c15a724.png" /></p>
</div>
</div>
<section id="summary-statistics" class="cell markdown">
<h4><strong>Summary Statistics</strong></h4>
<p>Based on the three statistical methods, we found that the chi-square
test was the most useful as everything is categorical data. Smoking and
chronic lung disease were the most impactful on the severity of cancer.
Those were also our key factors in the dataframe.</p>
</section>
<section id="primary-analysis" class="cell markdown">
<h3><strong>Primary Analysis</strong></h3>
</section>
<div class="cell code" data-execution_count="21">
<div class="sourceCode" id="cb20"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Male = 0, Female = 1</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;gender&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;gender&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="dv">0</span> <span class="cf">if</span> x <span class="op">==</span> <span class="st">&#39;male&#39;</span> <span class="cf">else</span> <span class="dv">1</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> np.array(df.drop(df.columns[[<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">11</span>, <span class="dv">12</span>, <span class="dv">21</span>, <span class="dv">22</span>, <span class="dv">24</span>, <span class="dv">25</span>]], axis<span class="op">=</span><span class="dv">1</span>))</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> np.array(df[<span class="st">&#39;severity of cancer&#39;</span>])</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>seed <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, test_size<span class="op">=</span><span class="fl">0.5</span>, random_state<span class="op">=</span>seed)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>randomforest <span class="op">=</span> RandomForestClassifier()</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>kneighbors <span class="op">=</span> KNeighborsClassifier()</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>arr <span class="op">=</span> []</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Elbow Method testing to find k</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> k_folds <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>, <span class="dv">30</span>):</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    skf <span class="op">=</span> StratifiedKFold(n_splits<span class="op">=</span>k_folds, shuffle<span class="op">=</span><span class="va">True</span>, random_state<span class="op">=</span>seed)</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>    cv <span class="op">=</span> cross_val_score(kneighbors, X_train, np.ravel(y_train), cv<span class="op">=</span>skf)</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>    arr.append(cv.mean())</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># print(f&#39;{k_folds}: {cv.mean()}&#39;)</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>kneighbors.fit(X_train, np.ravel(y_train))</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> kneighbors.predict(X_test)</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;Accuracy: </span><span class="sc">{</span>accuracy_score(y_pred, y_test)<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(classification_report(y_test, y_pred))</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Accuracy: 0.984
              precision    recall  f1-score   support

        High       0.96      1.00      0.98       180
         Low       1.00      0.99      1.00       147
      Medium       0.99      0.96      0.98       173

    accuracy                           0.98       500
   macro avg       0.99      0.98      0.98       500
weighted avg       0.98      0.98      0.98       500

</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="22">
<div class="sourceCode" id="cb22"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>plt.plot(<span class="bu">range</span>(<span class="dv">2</span>,<span class="dv">30</span>), np.array(arr))</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_e4bdb5e96b324233bc81b4516383ff3a/8f7f5bb3803df87ad14c1969ec33a69ee2559221.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>Scholarly Articles mentioned above: <a
href="https://www.mdpi.com/2227-9059/11/2/448"
class="uri">https://www.mdpi.com/2227-9059/11/2/448</a>, <a
href="https://www.mayoclinic.org/diseases-conditions/copd/symptoms-causes/syc-20353679"
class="uri">https://www.mayoclinic.org/diseases-conditions/copd/symptoms-causes/syc-20353679</a></p>
</div>
</body>
</html>
